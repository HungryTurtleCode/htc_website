---
id: 613
title: AngularJS Quiz App Tutorial Part 16 – Error Handling With Bootstrap Alerts
date: 2016-05-22T20:16:29+00:00
author: Adrian
layout: post
guid: https://hungryturtlecode.com/?p=613
permalink: /code-projects/angular-quiz-app/16-bootstrap-alerts/
per-page-ath-content:
  - '<title>Part 16 AngularJS Quiz App Tutorial - Hungry Turtle Code</title>'
factory_shortcodes_assets:
  - 'a:1:{s:12:"sociallocker";a:1:{i:0;a:1:{s:2:"id";s:3:"950";}}}'
crp_related_posts:
  - '<div class="crp_related "><h3>You Might Also Find These Interesting...</h3><ul><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/12-controller-logic/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932332/Angular-quiz-part-12_sfbie2.jpg" alt="AngularJS Quiz App Tutorial Part 12 – Controller Logic" title="AngularJS Quiz App Tutorial Part 12 – Controller Logic" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/12-controller-logic/"     class="crp_title">AngularJS Quiz App Tutorial Part 12 – Controller Logic</a></li><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/15-reusing-code/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932350/Angular-quiz-part-15_xy7gaj.jpg" alt="AngularJS Quiz App Tutorial Part 15 – Reusing Code" title="AngularJS Quiz App Tutorial Part 15 – Reusing Code" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/15-reusing-code/"     class="crp_title">AngularJS Quiz App Tutorial Part 15 – Reusing Code</a></li><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/14-index-for-ng-repeat/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932344/Angular-quiz-part-14_swngy0.jpg" alt="AngularJS Quiz App Tutorial Part 14 – index for Ng-Repeat" title="AngularJS Quiz App Tutorial Part 14 – index for Ng-Repeat" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/14-index-for-ng-repeat/"     class="crp_title">AngularJS Quiz App Tutorial Part 14 – index for Ng-Repeat</a></li><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/21-function-with-ng-class/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932387/Angular-quiz-part-21_vaxed8.jpg" alt="AngularJS Quiz App Tutorial Part 21 – A New Way To Use Ng-Class" title="AngularJS Quiz App Tutorial Part 21 – A New Way To Use Ng-Class" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/21-function-with-ng-class/"     class="crp_title">AngularJS Quiz App Tutorial Part 21 – A New Way To Use&hellip;</a></li><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/11-bootstrap-well/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932326/Angular-quiz-part-11_jxnkd4.jpg" alt="AngularJS Quiz App Tutorial Part 11 – More Bootstrap" title="AngularJS Quiz App Tutorial Part 11 – More Bootstrap" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/11-bootstrap-well/"     class="crp_title">AngularJS Quiz App Tutorial Part 11 – More Bootstrap</a></li><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/22-angular-number-filter/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932393/Angular-quiz-part-22_zw1ina.jpg" alt="AngularJS Quiz App Tutorial Part 22 – Final Functions For RestultsCtrl" title="AngularJS Quiz App Tutorial Part 22 – Final Functions For RestultsCtrl" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/22-angular-number-filter/"     class="crp_title">AngularJS Quiz App Tutorial Part 22 – Final Functions For&hellip;</a></li><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/10-ng-class/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932320/Angular-quiz-part-10_eqcbbl.jpg" alt="AngularJS Quiz App Tutorial Part 10 &#8211; Ng-Class" title="AngularJS Quiz App Tutorial Part 10 &#8211; Ng-Class" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/10-ng-class/"     class="crp_title">AngularJS Quiz App Tutorial Part 10 &#8211; Ng-Class</a></li><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/17-final-prompt/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932361/Angular-quiz-part-17_blwjwc.jpg" alt="AngularJS Quiz App Tutorial Part 17 – Final Prompt Before Results" title="AngularJS Quiz App Tutorial Part 17 – Final Prompt Before Results" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/17-final-prompt/"     class="crp_title">AngularJS Quiz App Tutorial Part 17 – Final Prompt Before&hellip;</a></li></ul><div class="crp_clear"></div></div>'
image: https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/v1463932356/Angular-quiz-part-16_nvilyd.jpg
categories:
  - Basic Angular Quiz App
---
## Errors Must Be Handled In All Apps

<span style="font-weight: 400;">Handling errors is a critical part of the life of a software developer. If you cannot handle errors, you will create code that has a ton of bugs and just doesn’t function satisfactorily. In this part of the series we will use <a href="http://www.tutorialspoint.com/bootstrap/bootstrap_alerts.htm" target="_blank">bootstrap alerts</a> to display an error message when the user tries to continue at the last question but they haven’t answered all questions yet.</span>

**If you want to see the app for yourself,** [check it out here.](/turtlefacts)

The git repo <a href="https://github.com/adiman9/HungryTurtleFactQuiz" target="_blank">can be found here</a>.

<div class="embedoverlay overlay" style="background: url(https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_800/v1457631233/AngularJS-Turtle-Quiz-App-16_z9vrbz.webp);">
  <div class="embedoverlaycont ">
    <div class="g-ytsubscribe" data-channelid="UC7Vxnf06GP6w42Lg3TQLXSw" data-layout="default" data-count="default" data-onytevent="onYtEvent">
    </div>
    
    <h2 class="optinform">
      Get all my latest content and exclusive offers direct to your inbox
    </h2>
    
    <p class="optinform">
      Just enter you email below
    </p>
    
    <div class="embedform optinform">
    </div>
    
    <p class="embedreturn">
      <small>Go back to the video</small>
    </p>
  </div>
</div>

<div class="embedcont"style="width: 100%; text-align: center;">
</div>

<div style="display: inline-block; padding-right: 20px; font-weight: bold; color: red; vertical-align: top; padding-top: 12px;">
  Subscribe To My Channel...
</div>

<div style="margin-top: 5px; display: inline-block">
  <div class="g-ytsubscribe" data-channelid="UC7Vxnf06GP6w42Lg3TQLXSw" data-layout="default" data-count="default" data-onytevent="onYtEvent">
  </div>
</div>

<div id="embedcode" style="display: none;">
</div>

&nbsp;

[The next part can be found here](https://hungryturtlecode.com/code-projects/angular-quiz-app/17-final-prompt/)

<span style="font-weight: 400;">As I mentioned, the error should display when the user is on the last question and continues. If you remember back to the code in the setActiveQuestion function, we have some logic that increments the active question unless it is on the last question, in which case it resets it to 0. </span>

When it resets to 0, it means the user was on the last question and clicked continue without all questions being answered (if all questions had been answered, the setActiveQuestion function would never have been called). This is when we want to display the error.

Using this knowledge of the reset back to 0, we can create a conditional after the potential reset to 0 that checks if it has infact been reset. If it has, then we display the error.

<pre class="lang:js decode:true" title="Adding Error">while(!breakOut){

    vm.activeQuestion = vm.activeQuestion &lt; quizLength?++vm.activeQuestion:0;

    if(vm.activeQuestion === 0){
        vm.error = true;
    }

    if(DataService.quizQuestions[vm.activeQuestion].selected === null){
        breakOut = true;
    }
}</pre>

Notice inside the new conditional we reference <span class="lang:default decode:true crayon-inline ">vm.error</span> . We have yet to create this, so add it at the top of the controller where we declare all the other properties. This what the whole quiz controller looks like so far:

<pre class="lang:js decode:true" title="Quiz Controller">(function(){

    angular
        .module("turtleFacts")
        .controller("quizCtrl", QuizController);

    QuizController.$inject = ['quizMetrics', 'DataService'];

    function QuizController(quizMetrics, DataService){

        var vm = this;

        vm.quizMetrics = quizMetrics; 
        vm.dataService = DataService;
        vm.questionAnswered = questionAnswered; 
        vm.setActiveQuestion = setActiveQuestion; 
        vm.selectAnswer = selectAnswer; 
        vm.activeQuestion = 0; 
        vm.error = false; 

        var numQuestionsAnswered = 0; 

        function setActiveQuestion(index){

            if(index === undefined){
                var breakOut = false;

                var quizLength = DataService.quizQuestions.length - 1;

                while(!breakOut){

                    vm.activeQuestion = vm.activeQuestion &lt; quizLength?++vm.activeQuestion:0;

                    if(vm.activeQuestion === 0){
                        vm.error = true;
                    }

                    if(DataService.quizQuestions[vm.activeQuestion].selected === null){
                        breakOut = true;
                    }
                }
            }else{
                vm.activeQuestion = index;
            }

        }

        function questionAnswered(){

            var quizLength = DataService.quizQuestions.length;

            if(DataService.quizQuestions[vm.activeQuestion].selected !== null){
                numQuestionsAnswered++;
                if(numQuestionsAnswered &gt;= quizLength){
                    // Finalise Quiz. Will tackle the code to put here later in the course
                }
            }

            vm.setActiveQuestion();
        }

        function selectAnswer(index){
            DataService.quizQuestions[vm.activeQuestion].selected = index;
        }     
    }

})();</pre>

### Next, Create The Markup For The Bootstrap Alert

<span style="font-weight: 400;">At the top of the row that holds the question area will be where we place the <a href="http://www.tutorialspoint.com/bootstrap/bootstrap_alerts.htm" target="_blank">bootstrap alert.</a> Just above the <h3>Question:</h3>.</span>

<img class="aligncenter wp-image-925" src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_800/v1464630703/bootstrap_alert_error_message_zeuyiz.jpg" alt="bootstrap alert error message" width="800" height="396" />

The markup to create the alert box is simple. We just need to add the class of alert and the class of alert-danger to make it red. I also added a button with the class of close and the value of <span class="lang:default decode:true crayon-inline ">&times</span>  which will create a nice x to close the alert box.

On this button is an ng-click directive that will change the error property back to false which will remove the error box when we click the x button. Instead of calling a function from the ng-click like we have been doing throughout this course, it is also possible to just make an assignment declaration.

Obviously, we only want this alert box to display when the error property is true (then disappear when we hit the close button that sets error back to false). To do this we can use ng-show.

<pre class="lang:xhtml decode:true" title="Error markup">&lt;div class="alert alert-danger"
     ng-show="quiz.error"&gt;

         Error! You have not answered all of the questions!

         &lt;button class="close" ng-click="quiz.error = false"&gt;&times&lt;/button&gt;

&lt;/div&gt;</pre>

<span style="font-weight: 400;">This works because quiz.error is already a boolean value, so as it changes it will show and hide the error box.</span>

## Finalising The Quiz

<span style="font-weight: 400;">You may remember earlier, inside the questionAnswered function we checked if the current question had been answered, then we checked if all questions had been answered. Inside the second conditional we said we would add code to finalise the quiz. This is what we need to do now. Here is the code to help your memory:</span>

You may be wondering why we have the line <span class="lang:js decode:true crayon-inline">numQuestionsAnswered >= quizLength</span>  rather than simply <span class="lang:js decode:true crayon-inline">numQuestionsAnswered === quizLength.</span>  I mean, if all questions have been answered numQuestionsAnswered will be exactly equal to the length of the quiz. Right?

The problem is that we do not stop the user from clicking continue on the same answered question twice. For example, the user answers question 1 and clicks continue which will call the questionAnswered function and increment numQuestionsAnswered and move us to question two.

Now suppose that the user realises the answer they gave to question one was wrong. So they go back to question one, change their answer and click continue again. This will then call the questionAnswered function and increment numQuestionsAnswered.

This leaves us in a position where numQuestionsAnswered is 2 but the actual number of questions that have been answered is only 1. This is why we need to have a >= check.

This then leads us to a situation where the user may have numQuestionsAnswered greater than or equal to the length of the quiz but they still haven’t answered all the questions. So we need to add a final sanity check that loops through all the questions just to make sure they are all answered.

<pre class="lang:js decode:true" title="Final sanity check">if(numQuestionsAnswered &gt;= quizLength){
                    
    for(var i = 0; i &lt; quizLength; i++){

        if(DataService.quizQuestions[i].selected === null){
            setActiveQuestion(i);
            return;
        }
    }

    // More code here shortly

}</pre>

We call setActiveQuestion and pass in i as an argument. We do this because we know that at index i, the question isn’t answered, because the if statement triggered. So we don’t need to waste computations trying to find the unanswered question, we can just pass it in.

When setActiveQuestion is finished, we return from the function. This is because if we didnt return, the function would keep running and get down to the line below that again calls setActiveQuestion. There is no need for this, so we just return from the function.

<div id="angularsociallockerbox" style="margin: 50px 0; border-radius: 30px; border: 3px solid #00BCD4; padding: 30px;">
  <h3>
    Download Commented Code And PDFs For This Entire Series
  </h3>
  
  <p>
    Get correct and fully commented code for the start of all 24 parts, plus the finished app. Also get a PDF with the entire 24 chapter tutorial in it, so you can learn anywhere!
  </p>
  
  <p>
    I will also throw in individual PDFs of all chapters, just to allow efficient learning of specific topics.
  </p>
  
  <div class="onp-locker-call" style="display: none;" data-lock-id="onpLock841773">
  </div>
  
  <p>
    I don&#8217;t want to force you to share my stuff to get the real content (I really hate that too). So you will still get 100% of the content &#8211; these bonuses don&#8217;t have any new information in them that you don&#8217;t already have in these articles or on github.
  </p>
  
  <p>
    However, they do make things more convenient for you to learn. So if you want these bonuses and are willing to help me out, just give me a share using one of the buttons above. It is greatly appreciated. Thanks
  </p>
</div>

### All Checks Passed, Time To End The Quiz

<span style="font-weight: 400;">If all questions have indeed been answered, then the if statement will never trigger and we won’t call setActiveQuestion or return from the function, the code below the for loop will start to run. So this is where we add the code to do the housekeeping for the quiz before we move onto the results.</span>

<pre class="lang:js decode:true " title="Finalising The Quiz">if(numQuestionsAnswered &gt;= quizLength){
                    
    for(var i = 0; i &lt; quizLength; i++){

        if(DataService.quizQuestions[i].selected === null){
            setActiveQuestion(i);
            return;
        }
    }

    vm.error = false;
    vm.finalise = true;
    return;

}</pre>

The finalise property also needs to be initialised at the top of the controller, so don’t forget to do that.

<span style="font-weight: 400;">Using the finalise property that is set to true when all questions have been answered we can display a little prompt that asks the user if they are sure they want to continue to the results, or if they would like to stay on the quiz to change some answers.</span>

### All Done Here, More In Part 17

<span style="font-weight: 400;">This is what we will tackle in the <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/17-final-prompt/">next part</a>. After that we will be able to create the third and final controller &#8211; the results controller.</span>

See you in [part 17](https://hungryturtlecode.com/code-projects/angular-quiz-app/17-final-prompt/).

Adrian

&nbsp;

### Check Out The Whole Course Index

<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/1-build-angular-quiz-app-scratch/">Getting Started</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/2-ng-controller-scope/">Ng-controller directive and the (mis)use of $scope</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/3-ng-repeat-directive/">Looping around with the ng-repeat directive</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/4-bootstrap-modal/">Markup for the Bootstrap Modal</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/5-angular-filters/">Using Angular Filters to create real time search</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/6-ng-click-directive/">The powerful ng-click directive</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/7-angular-services/">Services in Angular make everything easier</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/8-dependency-injection/">What is this infamous dependency injection in Angular?</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/9-angular-factories/">Let&#8217;s build a Factory</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/10-ng-class/">The ng-class directive</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/11-bootstrap-well/">More Bootstrap markup &#8211; the well</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/12-controller-logic/">Adding some logic to the controller</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/13-ng-if/">Making things disappear with ng-if</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/14-index-for-ng-repeat/">The $index property for ng-repeat</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/15-reusing-code/">Reusing code is always a good idea</a>
</li>
<li style="font-weight: 400;">
  <em>You are here</em>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/17-final-prompt/">The final prompt after the quiz</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/18-marking-the-quiz/">Marking the quiz</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/19-angular-dependency-injection/">More dependency injection</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/20-familiar-bootstrap/">Reusing and slightly modifying some previous Bootstrap</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/21-function-with-ng-class/">More than one way to use ng-class</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/22-angular-number-filter/">Another Angular Filter</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/23-angular-ng-if/">More usage of Ng-if</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/24-finished-angular-project/">Finishing The App</a>
</li>

&nbsp;

Please give this post a share if you enjoyed it. _Everyone_ needs that **awesome friend** to send them amazing stuff.