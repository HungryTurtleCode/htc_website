---
id: 530
title: 'AngularJS Quiz App Tutorial Part 7 &#8211; Factories and Services'
date: 2016-05-22T20:18:56+00:00
author: Adrian
layout: post
guid: https://hungryturtlecode.com/?p=530
permalink: /code-projects/angular-quiz-app/7-angular-services/
per-page-ath-content:
  - '<title>Part 7 AngularJS Quiz App Tutorial - Hungry Turtle Code</title>'
factory_shortcodes_assets:
  - 'a:1:{s:12:"sociallocker";a:1:{i:0;a:1:{s:2:"id";s:3:"950";}}}'
crp_related_posts:
  - '<div class="crp_related "><h3>You Might Also Find These Interesting...</h3><ul><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/19-angular-dependency-injection/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932376/Angular-quiz-part-19_f7ugae.jpg" alt="AngularJS Quiz App Tutorial Part 19 – More Dependency Injection" title="AngularJS Quiz App Tutorial Part 19 – More Dependency Injection" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/19-angular-dependency-injection/"     class="crp_title">AngularJS Quiz App Tutorial Part 19 – More Dependency&hellip;</a></li><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/8-dependency-injection/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932306/Angular-quiz-part-8_imuigb.jpg" alt="AngularJS Quiz App Tutorial Part 8 &#8211; Dependency Injection" title="AngularJS Quiz App Tutorial Part 8 &#8211; Dependency Injection" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/8-dependency-injection/"     class="crp_title">AngularJS Quiz App Tutorial Part 8 &#8211; Dependency&hellip;</a></li><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/18-marking-the-quiz/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932371/Angular-quiz-part-18_eybezd.jpg" alt="AngularJS Quiz App Tutorial Part 18 – Marking The Quiz" title="AngularJS Quiz App Tutorial Part 18 – Marking The Quiz" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/18-marking-the-quiz/"     class="crp_title">AngularJS Quiz App Tutorial Part 18 – Marking The Quiz</a></li><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/6-ng-click-directive/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932292/Angular-quiz-part-6_njlvtc.jpg" alt="AngularJS Quiz App Tutorial Part 6 &#8211; Ng-click and ng-show directives" title="AngularJS Quiz App Tutorial Part 6 &#8211; Ng-click and ng-show directives" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/6-ng-click-directive/"     class="crp_title">AngularJS Quiz App Tutorial Part 6 &#8211; Ng-click and&hellip;</a></li><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/9-angular-factories/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932313/Angular-quiz-part-9_sjwfx2.jpg" alt="AngularJS Quiz App Tutorial Part 9 &#8211; More About Factories" title="AngularJS Quiz App Tutorial Part 9 &#8211; More About Factories" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/9-angular-factories/"     class="crp_title">AngularJS Quiz App Tutorial Part 9 &#8211; More About&hellip;</a></li><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/17-final-prompt/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932361/Angular-quiz-part-17_blwjwc.jpg" alt="AngularJS Quiz App Tutorial Part 17 – Final Prompt Before Results" title="AngularJS Quiz App Tutorial Part 17 – Final Prompt Before Results" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/17-final-prompt/"     class="crp_title">AngularJS Quiz App Tutorial Part 17 – Final Prompt Before&hellip;</a></li><li><a href="https://hungryturtlecode.com/code-projects/1-build-angular-quiz-app-scratch/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_crop,h_400,w_400,x_0,y_0/h_150,w_150/v1463876657/Angular-Quiz-App_kifpk9.jpg" alt="Build An Angular Quiz App From Scratch" title="Build An Angular Quiz App From Scratch" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/1-build-angular-quiz-app-scratch/"     class="crp_title">Build An Angular Quiz App From Scratch</a></li><li><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/2-ng-controller-scope/"    ><img src="https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/c_crop,h_180,w_180,x_0,y_0/h_150,w_150/v1463932261/Angular-quiz-part-2_j1jjhy.jpg" alt="AngularJS Quiz App Tutorial Part 2 &#8211; Controller Properties and $scope" title="AngularJS Quiz App Tutorial Part 2 &#8211; Controller Properties and $scope" width="150" height="150" class="crp_thumb crp_featured" /></a><a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/2-ng-controller-scope/"     class="crp_title">AngularJS Quiz App Tutorial Part 2 &#8211; Controller&hellip;</a></li></ul><div class="crp_clear"></div></div>'
image: https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_180/v1463932298/Angular-quiz-part-7_hy22ev.jpg
categories:
  - Basic Angular Quiz App
---
## Angular Services &#8211; Serving (Some) Of Your Needs

<span style="font-weight: 400;">Fully armed with the knowledge on how to hide and show HTML elements, we can now go ahead and create the quiz controller that we will show at the same time that we hide the list controller &#8211; when the user clicks the “start quiz” button. Then we can learn about <a href="https://docs.angularjs.org/guide/services" target="_blank">Angular Services</a> and how they solve some problems that may arise.</span><!--more-->

**If you want to see the app for yourself,** [check it out here.](/turtlefacts)

The git repo <a href="https://github.com/adiman9/HungryTurtleFactQuiz" target="_blank">can be found here</a>.

### Pick Your Poison &#8211; Text Or Video

As always, you can read this article or you can watch the video below to get the same information.

<div class="embedoverlay overlay" style="background: url(https://res.cloudinary.com/djxscnpzf/image/upload/c_scale,w_800/v1457631115/AngularJS-Turtle-Quiz-App-7_fn4v5z.webp);">
  <div class="embedoverlaycont ">
    <div class="g-ytsubscribe" data-channelid="UC7Vxnf06GP6w42Lg3TQLXSw" data-layout="default" data-count="default" data-onytevent="onYtEvent">
    </div>
    
    <h2 class="optinform">
      Get all my latest content and exclusive offers direct to your inbox
    </h2>
    
    <p class="optinform">
      Just enter you email below
    </p>
    
    <div class="embedform optinform">
    </div>
    
    <p class="embedreturn">
      <small>Go back to the video</small>
    </p>
  </div>
</div>

<div class="embedcont"style="width: 100%; text-align: center;">
</div>

<div style="display: inline-block; padding-right: 20px; font-weight: bold; color: red; vertical-align: top; padding-top: 12px;">
  Subscribe To My Channel...
</div>

<div style="margin-top: 5px; display: inline-block">
  <div class="g-ytsubscribe" data-channelid="UC7Vxnf06GP6w42Lg3TQLXSw" data-layout="default" data-count="default" data-onytevent="onYtEvent">
  </div>
</div>

<div id="embedcode" style="display: none;">
</div>

&nbsp;

[The next part can be found here](https://hungryturtlecode.com/code-projects/angular-quiz-app/8-dependency-injection/)

Below our list controller markup in the HTML we can create new controller div for our quiz. Just like we did with our list controller we will use the “controller as” syntax.

<pre class="lang:xhtml decode:true" title="The Start Of The Quiz Area">&lt;div ng-controller="quizCtrl as quiz"&gt;
    &lt;!-- Rest of the markup goes here --&gt;
&lt;/div&gt;</pre>

Of course, we will add this controller into another <a href="https://hungryturtlecode.com/tutorials/javascript-tuts/" target="_blank">JavaScript</a> file in our controller directory. So we will need to reference that script in the HTML. So are application scripts at the bottom of our HTML looks like this now.

<pre class="lang:xhtml decode:true" title="Application Scripts So Far">&lt;script src="js/app.js"&gt;&lt;/script&gt;
&lt;script src="js/controllers/list.js"&gt;&lt;/script&gt;
&lt;script src="js/controllers/quiz.js"&gt;&lt;/script&gt;</pre>

<div id="angularsociallockerbox" style="margin: 50px 0; border-radius: 30px; border: 3px solid #00BCD4; padding: 30px;">
  <h3>
    Download Commented Code And PDFs For This Entire Series
  </h3>
  
  <p>
    Get correct and fully commented code for the start of all 24 parts, plus the finished app. Also get a PDF with the entire 24 chapter tutorial in it, so you can learn anywhere!
  </p>
  
  <p>
    I will also throw in individual PDFs of all chapters, just to allow efficient learning of specific topics.
  </p>
  
  <div class="onp-locker-call" style="display: none;" data-lock-id="onpLock598142">
  </div>
  
  <p>
    I don&#8217;t want to force you to share my stuff to get the real content (I really hate that too). So you will still get 100% of the content &#8211; these bonuses don&#8217;t have any new information in them that you don&#8217;t already have in these articles or on github.
  </p>
  
  <p>
    However, they do make things more convenient for you to learn. So if you want these bonuses and are willing to help me out, just give me a share using one of the buttons above. It is greatly appreciated. Thanks
  </p>
</div>

## Let&#8217;s Create Another Angular Controller

<span style="font-weight: 400;">To start off the controller, we will use the <a href="http://stackoverflow.com/questions/8228281/what-is-the-function-construct-in-javascript" target="_blank">immediately invoked function expression (IIFE)</a> that we have seen in earlier parts. The rest of the setup will be familiar as well. The only change is the name of the controller that we create.</span>

<pre class="lang:js decode:true" title="Quiz Controller">(function(){

    angular
        .module("turtleFacts")
        .controller("quizCtrl", QuizController);

    function QuizController(){

        var vm = this;

    }

})();</pre>

### How Do We Show the Quiz Controller With the Quiz Is Active?

<span style="font-weight: 400;">At this point, you may or may not have realised that we are running into a problem. Hiding the list controller was simple, the quizActive flag is on the list controller, so we can manipulate it and then use it for the ng-hide.</span>

However, we want to show the quiz controller at the same time. So ideally, we would use the same quizActive property to do that right? quizActive flicks to true and the ng-hide on the list controller hide the list controller and we use ng-show on the quizController to show that at the same time.

<span style="font-weight: 400;">Unfortunately, Angular does not allow controllers to communicate like that. Controllers are totally separate. So we do not have access to the quizActive flag on the list controller when we are inside the quiz controller. So what shall we do?</span>

## Introducing Angular Services

<span style="font-weight: 400;">This is where we can use a useful tool in the Angular Toolbox &#8211; <a href="https://docs.angularjs.org/guide/services" target="_blank">services.</a> There are many types of services available in Angular. Too many to cover in this tutorial series. So for now, we will be focusing on one type of service called Factories.</span>

Factories in Angular will allow us to share some data between the controllers &#8211; which is exactly what we want.

<span style="font-weight: 400;">A common use case for services like factories in angular would be for example, an application with multiple controllers, all of which need to pull some data from an API. In that case, it would be possible to write the API calls into every controller separately. But this is repeating code and breaking a key rule of code.</span>

Instead, that API logic could be put into a service and all controllers can be given access to that service. Note that a controller wouldn’t automatically have access, you would have to explicitly allow it.

<span style="font-weight: 400;">Now, all the controllers can make an API call without having to repeat code. Perfect. This also serves to separate out concerns and ensure that all bits of code are only doing one thing. Added bonus.</span>

<span style="font-weight: 400;">Because controllers can share code via a service, it is possible to use the service to contain properties that all the controllers will need access to. This is our use case.</span>

### Get Building Your Factory!

<span style="font-weight: 400;">We will create a new directory in our project called factories, which is, of course, where we will store any factories we create. We can then create a new script called quizmetrics.js which will be a factory that holds all data relevant to the general operation of the quiz app that all controllers may need access to.</span>

Again, we use an IIFE to start things off. Then call our turtleFacts module. But this time we call a new method &#8211; .factory. The factory method is much like the controller method in that it accepts two arguments &#8211; the name of the factory and the function that defines the factory.’

<pre class="lang:js decode:true">(function(){

    angular
        .module("turtleFacts")
        .factory("quizMetrics", QuizMetrics);

    function QuizMetrics(){


    }

})();</pre>

### A Brief Aside About How Factories Are Built

<span style="font-weight: 400;">A factory does some logic then it returns something. It could be an object, or just a single property or a function or anything. Whatever it returns, is what the controllers that use the function will have access to.</span>

So for our purposes, we will build an object that contains many properties that we will need in our controllers. Then this object is what we will return from the factory and ultimately will be what is shared between the controllers.

We will start creating the object inside the factory by adding the quizActive property that is currently in our list controller. We can then remove it from the list controller once that is done.

<pre class="lang:js decode:true " title="Creating The Object To Return From The Factory">function QuizMetrics(){

    var quizObj = {
        quizActive = false
    };

    return quizObj;

}</pre>

Don&#8217;t forget to add the script that references the factory to the end of the HTML. I placed the code in js/factories/quizMetrics.js, so that is the source in my HTML script tag.

### On To Part 8

Now that we have the factory roughly built, we can start refactoring the list controller to remove the quizActive property and then inject the factory into the controller so we have access to the property again.

I will see you over there in [part 8.](https://hungryturtlecode.com/code-projects/angular-quiz-app/8-dependency-injection/)

Adrian

&nbsp;

### Check Out The Whole Course Index

<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/1-build-angular-quiz-app-scratch/">Getting Started</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/2-ng-controller-scope/">Ng-controller directive and the (mis)use of $scope</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/3-ng-repeat-directive/">Looping around with the ng-repeat directive</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/4-bootstrap-modal/">Markup for the Bootstrap Modal</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/5-angular-filters/">Using Angular Filters to create real time search</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/6-ng-click-directive/">The powerful ng-click directive</a>
</li>
<li style="font-weight: 400;">
  <em>You are here</em>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/8-dependency-injection/">What is this infamous dependency injection in Angular?</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/9-angular-factories/">Let&#8217;s Build A Factory</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/10-ng-class/">The ng-class directive</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/11-bootstrap-well/">More Bootstrap Markup &#8211; The Well</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/12-controller-logic/">Adding some logic to the controller</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/13-ng-if/">Making things disappear with ng-if</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/14-index-for-ng-repeat/">The $index property for ng-repeat</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/15-reusing-code/">Reusing code is always a good idea</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/16-bootstrap-alerts/">Using Bootstrap to help with styling error messages</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/17-final-prompt/">The final prompt after the quiz</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/18-marking-the-quiz/">Marking the quiz</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/19-angular-dependency-injection/">More dependency injection</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/20-familiar-bootstrap/">Reusing and slightly modifying some previous Bootstrap</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/21-function-with-ng-class/">More than one way to use ng-class</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/22-angular-number-filter/">Another Angular Filter</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/23-angular-ng-if/">More usage of Ng-if</a>
</li>
<li style="font-weight: 400;">
  <a href="https://hungryturtlecode.com/code-projects/angular-quiz-app/24-finished-angular-project/">Finishing The App</a>
</li>

&nbsp;

Please give this post a share if you enjoyed it. _Everyone_ needs that **awesome friend** to send them amazing stuff.